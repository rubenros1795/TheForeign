library(readr)
pmi_scale2 <- read_csv("GitHub/TheForeign/Properties/output-data/pmi_scale2.csv")
View(pmi_scale2)
df = pmi_scale2
library(ggplot2)
library(reshape2)
get_productivity <- function(file_name, start_year, end_year, csv_delimiter){
df <- read.csv(file_name, sep = csv_delimiter)
df <- df[,-1]
df[is.na(df)] <- 0
p <- as.data.frame(colSums(df != 0))
p$years <- gsub("X","", colnames(df))
colnames(p) <- c(paste0("prod_", substr(file_name, 7,8)), "years")
p <- p[p$years >= start_year & p$years <= end_year,]
p <- melt(p, id.vars = "years")
}
library(readr)
df <- read_csv("GitHub/TheForeign/Properties/output-data/trigrams_groote_buitenlandsche_decade.csv")
View(df)
setwd("~/GitHub/TheForeign/Properties/output-data")
p = get_productivity("trigrams_groote_buitenlandsche_decade.csv", 1815, 1910, ',')
View(p)
ggplot(p, aes(x=year, y=value)) + geom_bar(stat="identity")
ggplot(p, aes(x=years, y=value)) + geom_bar(stat="identity")
p = get_productivity("trigrams_groote_x_ihbuitenland.csv", 1815, 1910, ',')
setwd("~/GitHub/TheForeign/Properties/output-data")
p = get_productivity("trigrams_groote_x_ihbuitenland_decade.csv", 1815, 1910, ',')
ggplot(p, aes(x=years, y=value)) + geom_bar(stat="identity")

library(readr)
df <- read_delim("C:/Users/Ruben/Downloads/metadata/metadata/1870-1880.csv",
"\t", escape_double = FALSE, trim_ws = TRUE)
View(df)
df$image_url[1]
rect(56, 83, 1552, 5424)
plot(c(0, 1496), c(0, 5341), type= "n", xlab = "", ylab = "")
rect(56, 83, 1552, 5424)
df$paper_title[5]
df_ar = df[df$paper_title == "De Tĳd : godsdienstig-staatkundig dagblad",]
df_t = df[df$paper_title == "De Tĳd : godsdienstig-staatkundig dagblad",]
View(df_t)
mean(df_t$w)
plot(c(0, mean(df_t$w)), c(0, mean(df_t$h)), type= "n", xlab = "", ylab = "")
rect(df_t$min_x[i],df_t$min_y[i],df_t$max_x[i],df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1))
df_t$min_x[3]
print(i)
length(df_t)
for(i in seq(1,nrow(df_t))){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1))
}
plot(c(0, max(df_t$w)), c(0, max(df_t$h)), type= "n", xlab = "", ylab = "")
for(i in seq(1,nrow(df_t))){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1))
}
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
for(i in seq(1,nrow(df_t))){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
}
plot(c(0, max(df_t$h)), c(0, max(df_t$w)), type= "n", xlab = "", ylab = "")
plot(c(0, mean(df_t$h)), c(0, mean(df_t$w)), type= "n", xlab = "", ylab = "")
mean(df_t$h)
mean(df_t$w)
plot( c(0, mean(df_t$w)), c(0, mean(df_t$h)), type= "n", xlab = "", ylab = "")
i = 1
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
i = 123
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
plot( c(0, mean(df_t$w)), c(0, mean(df_t$h)), type= "n", xlab = "", ylab = "")
i = 33
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
df_t$image_url[4]
rect(0, 0, df_t$w[i], df_t$h[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
rect(0, 0, df_t$w[4], df_t$h[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
rect(df_t$min_x[4], df_t$min_y[4], df_t$max_x[4], df_t$max_y[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
plot( c(0, max(df_t$w)), c(0, max(df_t$h)), type= "n", xlab = "", ylab = "")
rect(0, 0, df_t$w[4], df_t$h[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
rect(0, 0, 3819, 5502, col= rgb(0,0,1.0,alpha=0.1), border=F)
plot(c(0, 3819),c(0,5502), col= rgb(0,0,1.0,alpha=0.1), border=F)
plot(c(0, 3819), c(0,5502), type= "n", xlab = "", ylab = "")
rect(df_t$min_x[4], df_t$min_y[4], df_t$max_x[4], df_t$max_y[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
tot_w = 3819
tot_h = 5502
plot(c(0, tot_w), c(0,tot_h), type= "n", xlab = "", ylab = "")
df_t[]
df_t[4]
df_t[4,]
rect(tot_w - df_t$min_x[4]), tot_w - df_t$min_y[4], tot_w - df_t$max_x[4], tot_w - df_t$max_y[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
rect(tot_w - df_t$min_x[4], tot_w - df_t$min_y[4], tot_w - df_t$max_x[4], tot_w - df_t$max_y[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
df_t = df_t[df_t$page_id == df_t$page_id[1],]
plot( c(0, max(df_t$w)), c(0, max(df_t$h)), type= "n", xlab = "", ylab = "")
for(i in 1:6){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
}
?text
df_t$ocr[1][0:3]
for(i in 1:6){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
text(df_t$max_x[i], df_t$max_y[i], labels = paste(i))
}
plot( c(0, max(df_t$w)), c(0, max(df_t$h)), type= "n", xlab = "", ylab = "")
for(i in 1:6){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
text(df_t$max_x[i], df_t$max_y[i], labels = paste(i))
}
for(i in 1:6){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
}
plot( c(0, max(df_t$w)), c(0, max(df_t$h)), type= "n", xlab = "", ylab = "")
for(i in 1:6){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
}
length(unique(df$issue_id))
length(df$issue_id)
print(length(issue_ss))
for(issue in df$issue_id){
issue_ss = df[df$issue_id == issue]
print(length(issue_ss))
}
for(issue in df$issue_id){
issue_ss = df[df$issue_id == issue,]
print(length(issue_ss))
}
for(issue in df$issue_id){
issue_ss = df[df$issue_id == issue,]
print(issue)
}
unique(issue_id)
unique(df$issue_id)
for(issue in unique(df$issue_id)){
issue_ss = df[df$issue_id == issue,]
print(issue)
}
t = c(0,3,5,1,4)
which.min(t)
smallest = data.frame(matrix(0,0,2))
for(issue in unique(df$issue_id)){
issue_ss = df[df$issue_id == issue,]
dim_articles = c()
for(art_no in 1:length(issue_ss)){
dim = issue_ss$w * issue_ss$h
dim_articles = c(dim_articles, dim)
article_id = issue_ss$id[which.min(dim_articles),]
tmp = c(issue, article_id)
smallest = rbind(smallest, tmp)
}
}
for(issue in unique(df$issue_id)){
issue_ss = df[df$issue_id == issue,]
dim_articles = c()
for(art_no in 1:length(issue_ss)){
dim = issue_ss$w * issue_ss$h
dim_articles = c(dim_articles, dim)
article_id = issue_ss$id[which.min(dim_articles)]
tmp = c(issue, article_id)
smallest = rbind(smallest, tmp)
}
}
View(smallest)
list_issues = c()
list_artid = c()
for(issue in unique(df$issue_id)){
issue_ss = df[df$issue_id == issue,]
dim_articles = c()
for(art_no in 1:length(issue_ss)){
dim = issue_ss$w * issue_ss$h
dim_articles = c(dim_articles, dim)
article_id = issue_ss$id[which.min(dim_articles)]
list_issues = c(list_issues, issue)
list_artid = c(list_artid, article_id)
}
}
data.frame(list_issues, list_artid)
smallest = data.frame(list_issues, list_artid)
View(smallest)
smallest[!duplicated(smallest),]
smallest = smallest[!duplicated(smallest),]
View(smallest)
View(df)
df$image_url
smallest$img_url = ""
list_img_urls = c()
for(id in smallest$list_artid){
tmp = df[df$id == id,]
tmp = tmp$image_url[1]
list_img_urls = c(list_img_urls, tmp)
}
smallest$img_url = list_img_urls
View(smallest)
smallest$img_url
write_csv(smallest, "smal_ads.csv", sep = ',')
write_csv(smallest, "smal_ads.csv")
getwd()
smallest[0:10]
smallest$img_url[0:10]
setwd("~/GitHub/TheForeign/SCC/output-data")
library(readr)
df <- read_csv("tokens_npp_year.csv")
View(df)
library(reshape2)
dfm = melt(df, id.vars = 'npp')
View(dfm)
library(ggplot2)
ggplot(dfm, aes(x=variable, y=value, fill=npp)) +
geom_area()
ggplot(dfm, aes(x=variable, y=value, fill=npp)) +
geom_bar()
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_bar(stat='identity')
dfm$variable = as.numeric(dfm$variable)
library(ggplot2)
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_bar(stat='identity')
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_bar(stat='identity') + scale_fill_grey()
library(RColorBrewer)
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_bar(stat='identity') + scale_fill_brewer(palette="Dark2")
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_bar(stat='identity') + scale_fill_brewer(palette="Set3")
length(dfm$npp)
cols <- colorRampPalette(brewer.pal(12, "Set3"))
myPal <- cols(21)
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_bar(stat='identity') + scale_fill_manual(values = myPal)
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_bar(stat='identity') + scale_fill_manual(values = myPal) + scale_x_continuous(breaks = round(seq(1815,1914,10),1))
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_area + scale_fill_manual(values = myPal) + scale_x_continuous(breaks = round(seq(1815,1914,10),1))
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_area() + scale_fill_manual(values = myPal) + scale_x_continuous(breaks = round(seq(1815,1914,10),1))
View(dfm)
dfm = melt(df, id.vars = 'npp')
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_area() + scale_fill_manual(values = myPal) + scale_x_continuous(breaks = round(seq(1815,1914,10),1))
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_area() + scale_fill_manual(values = myPal)# + scale_x_continuous(breaks = round(seq(1815,1914,10),1))
dfm$value = as.numeric(dfm$value)
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_area() + scale_fill_manual(values = myPal)# + scale_x_continuous(breaks = round(seq(1815,1914,10),1))
as.numeric(dfm$variable)
dfm$variable[1]
class(dfm$variable[1])
dfm = melt(df, id.vars = 'npp')
dfm$value = as.numeric(as.character(dfm$value))
dfm$variable = as.numeric(as.character(dfm$variable))
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_area() + scale_fill_manual(values = myPal)# + scale_x_continuous(breaks = round(seq(1815,1914,10),1))
ggplot(dfm, aes(x=variable, y=value, fill=npp)) + geom_area() + scale_fill_manual(values = myPal) + scale_x_continuous(breaks = round(seq(1815,1914,10),1))
dfss = dfm[dfm$variable < 1869,]
ggplot(dfss, aes(x=variable, y=value, fill=npp)) + geom_area() + scale_fill_manual(values = myPal) + scale_x_continuous(breaks = round(seq(1815,1914,10),1))
dfss = dfm[dfm$variable < 1877,]
ggplot(dfss, aes(x=variable, y=value, fill=npp)) + geom_area() + scale_fill_manual(values = myPal) + scale_x_continuous(breaks = round(seq(1815,1914,10),1))
library(ggplot2)
library(dplyr)
setwd("~/GitHub/TheForeign/SCC/output-data")

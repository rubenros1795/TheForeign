library(readr)
df <- read_delim("C:/Users/Ruben/Downloads/metadata/metadata/1870-1880.csv",
"\t", escape_double = FALSE, trim_ws = TRUE)
View(df)
df$image_url[1]
rect(56, 83, 1552, 5424)
plot(c(0, 1496), c(0, 5341), type= "n", xlab = "", ylab = "")
rect(56, 83, 1552, 5424)
df$paper_title[5]
df_ar = df[df$paper_title == "De Tĳd : godsdienstig-staatkundig dagblad",]
df_t = df[df$paper_title == "De Tĳd : godsdienstig-staatkundig dagblad",]
View(df_t)
mean(df_t$w)
plot(c(0, mean(df_t$w)), c(0, mean(df_t$h)), type= "n", xlab = "", ylab = "")
rect(df_t$min_x[i],df_t$min_y[i],df_t$max_x[i],df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1))
df_t$min_x[3]
print(i)
length(df_t)
for(i in seq(1,nrow(df_t))){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1))
}
plot(c(0, max(df_t$w)), c(0, max(df_t$h)), type= "n", xlab = "", ylab = "")
for(i in seq(1,nrow(df_t))){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1))
}
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
for(i in seq(1,nrow(df_t))){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
}
plot(c(0, max(df_t$h)), c(0, max(df_t$w)), type= "n", xlab = "", ylab = "")
plot(c(0, mean(df_t$h)), c(0, mean(df_t$w)), type= "n", xlab = "", ylab = "")
mean(df_t$h)
mean(df_t$w)
plot( c(0, mean(df_t$w)), c(0, mean(df_t$h)), type= "n", xlab = "", ylab = "")
i = 1
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
i = 123
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
plot( c(0, mean(df_t$w)), c(0, mean(df_t$h)), type= "n", xlab = "", ylab = "")
i = 33
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
df_t$image_url[4]
rect(0, 0, df_t$w[i], df_t$h[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
rect(0, 0, df_t$w[4], df_t$h[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
rect(df_t$min_x[4], df_t$min_y[4], df_t$max_x[4], df_t$max_y[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
plot( c(0, max(df_t$w)), c(0, max(df_t$h)), type= "n", xlab = "", ylab = "")
rect(0, 0, df_t$w[4], df_t$h[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
rect(0, 0, 3819, 5502, col= rgb(0,0,1.0,alpha=0.1), border=F)
plot(c(0, 3819),c(0,5502), col= rgb(0,0,1.0,alpha=0.1), border=F)
plot(c(0, 3819), c(0,5502), type= "n", xlab = "", ylab = "")
rect(df_t$min_x[4], df_t$min_y[4], df_t$max_x[4], df_t$max_y[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
tot_w = 3819
tot_h = 5502
plot(c(0, tot_w), c(0,tot_h), type= "n", xlab = "", ylab = "")
df_t[]
df_t[4]
df_t[4,]
rect(tot_w - df_t$min_x[4]), tot_w - df_t$min_y[4], tot_w - df_t$max_x[4], tot_w - df_t$max_y[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
rect(tot_w - df_t$min_x[4], tot_w - df_t$min_y[4], tot_w - df_t$max_x[4], tot_w - df_t$max_y[4], col= rgb(0,0,1.0,alpha=0.1), border=F)
df_t = df_t[df_t$page_id == df_t$page_id[1],]
plot( c(0, max(df_t$w)), c(0, max(df_t$h)), type= "n", xlab = "", ylab = "")
for(i in 1:6){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
}
?text
df_t$ocr[1][0:3]
for(i in 1:6){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
text(df_t$max_x[i], df_t$max_y[i], labels = paste(i))
}
plot( c(0, max(df_t$w)), c(0, max(df_t$h)), type= "n", xlab = "", ylab = "")
for(i in 1:6){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
text(df_t$max_x[i], df_t$max_y[i], labels = paste(i))
}
for(i in 1:6){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
}
plot( c(0, max(df_t$w)), c(0, max(df_t$h)), type= "n", xlab = "", ylab = "")
for(i in 1:6){
rect(df_t$min_x[i], df_t$min_y[i], df_t$max_x[i], df_t$max_y[i], col= rgb(0,0,1.0,alpha=0.1), border=F)
}
length(unique(df$issue_id))
length(df$issue_id)
print(length(issue_ss))
for(issue in df$issue_id){
issue_ss = df[df$issue_id == issue]
print(length(issue_ss))
}
for(issue in df$issue_id){
issue_ss = df[df$issue_id == issue,]
print(length(issue_ss))
}
for(issue in df$issue_id){
issue_ss = df[df$issue_id == issue,]
print(issue)
}
unique(issue_id)
unique(df$issue_id)
for(issue in unique(df$issue_id)){
issue_ss = df[df$issue_id == issue,]
print(issue)
}
t = c(0,3,5,1,4)
which.min(t)
smallest = data.frame(matrix(0,0,2))
for(issue in unique(df$issue_id)){
issue_ss = df[df$issue_id == issue,]
dim_articles = c()
for(art_no in 1:length(issue_ss)){
dim = issue_ss$w * issue_ss$h
dim_articles = c(dim_articles, dim)
article_id = issue_ss$id[which.min(dim_articles),]
tmp = c(issue, article_id)
smallest = rbind(smallest, tmp)
}
}
for(issue in unique(df$issue_id)){
issue_ss = df[df$issue_id == issue,]
dim_articles = c()
for(art_no in 1:length(issue_ss)){
dim = issue_ss$w * issue_ss$h
dim_articles = c(dim_articles, dim)
article_id = issue_ss$id[which.min(dim_articles)]
tmp = c(issue, article_id)
smallest = rbind(smallest, tmp)
}
}
View(smallest)
list_issues = c()
list_artid = c()
for(issue in unique(df$issue_id)){
issue_ss = df[df$issue_id == issue,]
dim_articles = c()
for(art_no in 1:length(issue_ss)){
dim = issue_ss$w * issue_ss$h
dim_articles = c(dim_articles, dim)
article_id = issue_ss$id[which.min(dim_articles)]
list_issues = c(list_issues, issue)
list_artid = c(list_artid, article_id)
}
}
data.frame(list_issues, list_artid)
smallest = data.frame(list_issues, list_artid)
View(smallest)
smallest[!duplicated(smallest),]
smallest = smallest[!duplicated(smallest),]
View(smallest)
View(df)
df$image_url
smallest$img_url = ""
list_img_urls = c()
for(id in smallest$list_artid){
tmp = df[df$id == id,]
tmp = tmp$image_url[1]
list_img_urls = c(list_img_urls, tmp)
}
smallest$img_url = list_img_urls
View(smallest)
smallest$img_url
write_csv(smallest, "smal_ads.csv", sep = ',')
write_csv(smallest, "smal_ads.csv")
getwd()
smallest[0:10]
smallest$img_url[0:10]
## Ruben Ros February 2019 ## r.s.ros@students.uu.nl | rubenros@live.nl ##
## Code for clustering bigrams and plotting the combined relative frequency of clusters
## across time.
library(wordVectors)
library(ggplot2)
library(udpipe)
library(reshape2)
library(stringr)
library(RColorBrewer)
library(gridExtra)
# Set Working Directory
setwd("~/GitHub/TheForeign/SCC/output-data")
# Import objects
setwd("~/Scriptie/Data/kwic_dfs/top_bigrams_top_words")
library(readr)
df <- read_csv("buitenlander_1815_1914_c48.csv")
View(df)
df[is.na(df)] = 0
colnames(df) = c('ngram', 1815:1914)
setwd("~/GitHub/TheForeign/SCC/output-data")
model = read.vectors('model-whole.bin')
